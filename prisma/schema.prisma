generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "cockroachdb"
  url      = env("DATABASE_URL")
}

model Post {
  id     String @id @default(cuid())
  title  String
  userId String
  user   User   @relation(fields: [userId], references: [id])
}

model User {
  id    String @id @default(cuid())
  email String
  posts Post[]
}

model Admin {
  id       String  @id @default(uuid())
  email    String  @unique
  password String
  isSupper Boolean @default(false)
}

model Student {
  id            String          @id @default(uuid())
  email         String          @unique
  password      String
  Adress        String
  Country       String
  wallet        Int
  CoursProgress CoursProgress[]
}

model Cours {
  id               String  @id @default(uuid())
  teacher          String
  title            String
  description      String
  videos           Video[]
  videoCount       Int     @default(0) @map(name: "video_count")
  totalVideoLength Int     @map(name: "total_video_length")
}

model Video {
  id          String @id @default(uuid())
  length      Int
  title       String
  description String
  course      Cours  @relation(fields: [courseId], references: [id])
  courseId    String
}

model CoursProgress {
  id        String  @id @default(uuid())
  student   Student @relation(fields: [studentId], references: [id])
  studentId String
}
